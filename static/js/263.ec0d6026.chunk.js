"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[263],{263:function(t,r,n){n.r(r),n.d(r,{default:function(){return h}});var e=n(861),u=n(439),a=n(757),c=n.n(a),i=n(689),o=n(791),s=n(646),f=n(184),p=function(t){var r=t.author,n=t.content;return(0,f.jsxs)("li",{children:[(0,f.jsxs)("p",{children:["Author: ",r]}),(0,f.jsx)("p",{children:n})]})},h=function(){var t=(0,i.UO)().id,r=(0,o.useState)(void 0),n=(0,u.Z)(r,2),a=n[0],h=n[1];return(0,o.useEffect)((function(){var r=function(){var r=(0,e.Z)(c().mark((function r(){var n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.Hx)(t);case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r().then((function(t){t.length>0?h(t):h(null)})).catch((function(t){console.log("Error fetch list of trending movies",t),h(null)}))}),[t]),(0,f.jsx)(f.Fragment,{children:a?(0,f.jsx)("ul",{children:a.map((function(t){var r=t.id,n=t.author,e=t.content;return(0,f.jsx)(p,{author:n,content:e},r)}))}):void 0===a?(0,f.jsx)("div",{children:"Loading reviews..."}):(0,f.jsx)("div",{children:"We don't have any reviews for this movie"})})}},646:function(t,r,n){n.d(r,{Hx:function(){return v},I2:function(){return f},Lm:function(){return s},Y5:function(){return p},uV:function(){return h}});var e=n(861),u=n(683),a=n(757),c=n.n(a),i=n(388),o=function(t,r){return i.Z.get("https://api.themoviedb.org/3"+t,{params:(0,u.Z)({api_key:"c8f343487431a47156d389fa5ccb000e",language:"en-US"},r)}).then((function(t){return t.status,t})).then((function(t){return t}))},s=function(){var t=(0,e.Z)(c().mark((function t(){var r,n,e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/trending/movie/day",r={},t.next=4,o("/trending/movie/day",r);case 4:return n=t.sent,e=[],n.data.results.forEach((function(t){return e.push({id:t.id,title:t.title})})),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(c().mark((function t(r){var n,e,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/search/movie",n={query:r,page:1},t.next=4,o("/search/movie",n);case 4:return e=t.sent,u=[],e.data.results.forEach((function(t){var r=t.id,n=t.title;return u.push({id:r,title:n})})),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(c().mark((function t(r){var n,e,u,a,i,s,f,p,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/movie/".concat(r),e={},t.next=4,o(n,e);case 4:return u=t.sent,a=u.data,i=a.poster_path,s=a.title,f=a.vote_average,p=a.overview,h=a.genres,v={src:"https://image.tmdb.org/t/p/w300"+i,title:s,vote_average:f,overview:p,genres:h},t.abrupt("return",v);case 8:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),h=function(){var t=(0,e.Z)(c().mark((function t(r){var n,e,u,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/movie/".concat(r,"/credits"),e={},t.next=4,o(n,e);case 4:return u=t.sent,a=[],u.data.cast.forEach((function(t){var r=t.id,n=t.profile_path,e=t.name,u=t.character;return a.push({id:r,srcImage:null!==n?"https://image.tmdb.org/t/p/w200"+n:null,name:e,character:u})})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),v=function(){var t=(0,e.Z)(c().mark((function t(r){var n,e,u,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/movie/".concat(r,"/reviews"),e={},t.next=4,o(n,e);case 4:return u=t.sent,a=[],u.data.results.forEach((function(t){var r=t.id,n=t.author,e=t.content;return a.push({id:r,author:n,content:e})})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=263.ec0d6026.chunk.js.map