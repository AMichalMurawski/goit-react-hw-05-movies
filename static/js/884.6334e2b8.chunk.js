"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{3646:function(e,r,t){t.d(r,{Hx:function(){return f},I2:function(){return h},Lm:function(){return o},Y5:function(){return l},uV:function(){return d}});var n=t(5861),a=t(8683),i=t(7757),c=t.n(i),s=t(2388),u=function(e,r){return s.Z.get("https://api.themoviedb.org/3"+e,{params:(0,a.Z)({api_key:"c8f343487431a47156d389fa5ccb000e",language:"en-US"},r)}).then((function(e){return e.status,e})).then((function(e){return e}))},o=function(){var e=(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/trending/movie/day",r={},e.next=4,u("/trending/movie/day",r);case 4:return t=e.sent,n=[],t.data.results.forEach((function(e){return n.push({id:e.id,title:e.title})})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/search/movie",t={query:r,page:1},e.next=4,u("/search/movie",t);case 4:return n=e.sent,a=[],n.data.results.forEach((function(e){var r=e.id,t=e.title;return a.push({id:r,title:t})})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a,i,s,o,h,l,d,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r),n={},e.next=4,u(t,n);case 4:return a=e.sent,i=a.data,s=i.poster_path,o=i.title,h=i.vote_average,l=i.overview,d=i.genres,f=i.release_date,p={src:"https://image.tmdb.org/t/p/w300"+s,title:o,vote_average:h,overview:l,genres:d,year:"".concat(new Date(f).getFullYear())},e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r,"/credits"),n={},e.next=4,u(t,n);case 4:return a=e.sent,i=[],a.data.cast.forEach((function(e){var r=e.id,t=e.profile_path,n=e.name,a=e.character;return i.push({id:r,srcImage:null!==t?"https://image.tmdb.org/t/p/w200"+t:null,name:n,character:a})})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r,"/reviews"),n={},e.next=4,u(t,n);case 4:return a=e.sent,i=[],a.data.results.forEach((function(e){var r=e.id,t=e.author,n=e.content;return i.push({id:r,author:t,content:n})})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},2884:function(e,r,t){t.r(r);var n=t(5861),a=t(9439),i=t(7757),c=t.n(i),s=t(2791),u=t(7689),o=t(3646),h=t(4151),l=t(184);r.default=function(){var e=(0,u.UO)().id,r=(0,u.TH)(),t=(0,s.useState)(null),i=(0,a.Z)(t,2),d=i[0],f=i[1];return(0,s.useEffect)((function(){var r=function(){var r=(0,n.Z)(c().mark((function r(){var t;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.Y5)(e);case 2:return t=r.sent,r.abrupt("return",t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r().then((function(e){f(e)})).catch((function(e){console.log("Error fetch list of trending movies",e),f("")}))}),[e]),(0,l.jsxs)("main",{children:[(0,l.jsxs)(h.W2,{children:[(0,l.jsx)(h.eJ,{to:r.state?r.state.from:"/",children:"\u2190 Go back"}),null!==d?d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.GK,{children:[(0,l.jsx)(h.Ei,{src:d.src,alt:"".concat(d.title," movie poster")}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(h.H2,{children:[d.title," (",d.year,")"]}),(0,l.jsxs)("p",{children:["User Score: ",Math.round(10*d.vote_average),"%"]}),(0,l.jsx)("h3",{children:"Overview"}),(0,l.jsx)("p",{children:d.overview}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)(h.aV,{children:d.genres.map((function(e){return(0,l.jsx)("li",{children:e.name},e.id)}))})]})]}),(0,l.jsxs)(h.g0,{children:[(0,l.jsx)("p",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(h.rU,{to:"cast",children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(h.rU,{to:"reviews",children:"Reviews"})})]})]})]}):(0,l.jsx)("div",{children:"There is no result for this id!"}):(0,l.jsx)(l.Fragment,{children:"Loading movie..."})]}),(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading subpage..."}),children:(0,l.jsx)(u.j3,{})})]})}}}]);
//# sourceMappingURL=884.6334e2b8.chunk.js.map