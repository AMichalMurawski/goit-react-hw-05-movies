"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[450],{130:function(t,n,r){var e=r(184);n.Z=function(t){var n=t.title,r=t.children;return(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{children:n}),(0,e.jsx)("ul",{children:r})]})}},479:function(t,n,r){var e=r(71),u=r(184);n.Z=function(t){var n=t.linkTo,r=t.movieName,a=t.fromLocation;return(0,u.jsx)("li",{children:(0,u.jsx)(e.rU,{to:"".concat(n),state:{from:a},children:r})})}},646:function(t,n,r){r.d(n,{Hx:function(){return v},I2:function(){return f},Lm:function(){return s},Y5:function(){return p},uV:function(){return h}});var e=r(861),u=r(683),a=r(757),c=r.n(a),i=r(388),o=function(t,n){return i.Z.get("https://api.themoviedb.org/3"+t,{params:(0,u.Z)({api_key:"c8f343487431a47156d389fa5ccb000e",language:"en-US"},n)}).then((function(t){return t.status,t})).then((function(t){return t}))},s=function(){var t=(0,e.Z)(c().mark((function t(){var n,r,e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/trending/movie/day",n={},t.next=4,o("/trending/movie/day",n);case 4:return r=t.sent,e=[],r.data.results.forEach((function(t){return e.push({id:t.id,title:t.title})})),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/search/movie",r={query:n,page:1},t.next=4,o("/search/movie",r);case 4:return e=t.sent,u=[],e.data.results.forEach((function(t){var n=t.id,r=t.title;return u.push({id:n,title:r})})),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,u,a,i,s,f,p,h,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n),e={},t.next=4,o(r,e);case 4:return u=t.sent,a=u.data,i=a.poster_path,s=a.title,f=a.vote_average,p=a.overview,h=a.genres,v={src:"https://image.tmdb.org/t/p/w300"+i,title:s,vote_average:f,overview:p,genres:h},t.abrupt("return",v);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,u,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n,"/credits"),e={},t.next=4,o(r,e);case 4:return u=t.sent,a=[],u.data.cast.forEach((function(t){var n=t.id,r=t.profile_path,e=t.name,u=t.character;return a.push({id:n,srcImage:null!==r?"https://image.tmdb.org/t/p/w200"+r:null,name:e,character:u})})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,u,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n,"/reviews"),e={},t.next=4,o(r,e);case 4:return u=t.sent,a=[],u.data.results.forEach((function(t){var n=t.id,r=t.author,e=t.content;return a.push({id:n,author:r,content:e})})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},450:function(t,n,r){r.r(n),r.d(n,{default:function(){return d}});var e=r(861),u=r(439),a=r(757),c=r.n(a),i=r(130),o=r(479),s=r(791),f=r(184),p=function(t){var n=Object.assign({},t),r=(0,s.useState)(""),e=(0,u.Z)(r,2),a=e[0],c=e[1];return(0,f.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),n.searchMovies(a),c("")}(t)},children:[(0,f.jsx)("input",{type:"search",name:"searchMovie",value:a,onChange:function(t){return function(t){c(t.target.value)}(t)}}),(0,f.jsx)("button",{children:"Search"})]})},h=r(87),v=r(689),l=r(646),d=function(){var t=(0,h.lr)(),n=(0,u.Z)(t,2),r=n[0],a=n[1],d=(0,s.useState)(),m=(0,u.Z)(d,2),x=m[0],g=m[1],w=(0,s.useState)(null),Z=(0,u.Z)(w,2),j=Z[0],b=Z[1],k=(0,s.useState)(r.get("query")),y=(0,u.Z)(k,2),_=y[0],S=y[1],E=(0,v.TH)();(0,s.useEffect)((function(){if(_){a({query:_});var t=function(){var t=(0,e.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.I2)(_);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(t){t.length>0?(g(t),b(!0)):b(!1)})).catch((function(t){console.log(t),b(!1)}))}}),[_,a]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(p,{filter:_,searchMovies:function(t){return function(t){t&&S(t)}(t)}}),null===j?(0,f.jsx)(f.Fragment,{}):j?(0,f.jsx)(i.Z,{children:x&&x.map((function(t){return(0,f.jsx)(o.Z,{linkTo:t.id,fromLocation:E,movieId:t.id,movieName:t.title},t.id)}))}):(0,f.jsx)("div",{children:(0,f.jsx)("p",{children:"No results"})})]})}}}]);
//# sourceMappingURL=450.2382573a.chunk.js.map