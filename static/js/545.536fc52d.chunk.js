"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[545],{3545:function(t,n,r){r.r(n),r.d(n,{default:function(){return x}});var e,a,u=r(5861),c=r(9439),i=r(7757),o=r.n(i),s=r(7689),f=r(2791),p=r(3646),h=r(168),d=r(6444),l=d.ZP.ul(e||(e=(0,h.Z)(["\n    display:flex; \n    flex-direction: column;\n    gap: 20px;\n    list-style:none;    \n"]))),v=d.ZP.li(a||(a=(0,h.Z)(["\n    margin:0;\n    padding:0;\n    &:not(:first-of-type){\n        border-top: 1px dashed black;\n    }\n    & p:first-child{\n        font-weight:700;\n    }\n"]))),m=r(184),g=function(t){var n=t.author,r=t.content;return(0,m.jsxs)(v,{children:[(0,m.jsxs)("p",{children:["Author: ",n]}),(0,m.jsx)("p",{children:r})]})},x=function(){var t=(0,s.UO)().id,n=(0,f.useState)(void 0),r=(0,c.Z)(n,2),e=r[0],a=r[1];return(0,f.useEffect)((function(){var n=function(){var n=(0,u.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.Hx)(t);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n().then((function(t){t.length>0?a(t):a(null)})).catch((function(t){console.log("Error fetch list of trending movies",t),a(null)}))}),[t]),(0,m.jsx)(m.Fragment,{children:e?(0,m.jsx)(l,{children:e.map((function(t){var n=t.id,r=t.author,e=t.content;return(0,m.jsx)(g,{author:r,content:e},n)}))}):void 0===e?(0,m.jsx)("div",{children:"Loading reviews..."}):(0,m.jsx)("div",{children:"We don't have any reviews for this movie"})})}},3646:function(t,n,r){r.d(n,{Hx:function(){return d},I2:function(){return f},Lm:function(){return s},Y5:function(){return p},uV:function(){return h}});var e=r(5861),a=r(8683),u=r(7757),c=r.n(u),i=r(2388),o=function(t,n){return i.Z.get("https://api.themoviedb.org/3"+t,{params:(0,a.Z)({api_key:"c8f343487431a47156d389fa5ccb000e",language:"en-US"},n)}).then((function(t){return t.status,t})).then((function(t){return t}))},s=function(){var t=(0,e.Z)(c().mark((function t(){var n,r,e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/trending/movie/day",n={},t.next=4,o("/trending/movie/day",n);case 4:return r=t.sent,e=[],r.data.results.forEach((function(t){return e.push({id:t.id,title:t.title})})),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/search/movie",r={query:n,page:1},t.next=4,o("/search/movie",r);case 4:return e=t.sent,a=[],e.data.results.forEach((function(t){var n=t.id,r=t.title;return a.push({id:n,title:r})})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,a,u,i,s,f,p,h,d,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n),e={},t.next=4,o(r,e);case 4:return a=t.sent,u=a.data,i=u.poster_path,s=u.title,f=u.vote_average,p=u.overview,h=u.genres,d=u.release_date,l={src:"https://image.tmdb.org/t/p/w300"+i,title:s,vote_average:f,overview:p,genres:h,year:"".concat(new Date(d).getFullYear())},t.abrupt("return",l);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n,"/credits"),e={},t.next=4,o(r,e);case 4:return a=t.sent,u=[],a.data.cast.forEach((function(t){var n=t.id,r=t.profile_path,e=t.name,a=t.character;return u.push({id:n,srcImage:null!==r?"https://image.tmdb.org/t/p/w200"+r:null,name:e,character:a})})),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=(0,e.Z)(c().mark((function t(n){var r,e,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/movie/".concat(n,"/reviews"),e={},t.next=4,o(r,e);case 4:return a=t.sent,u=[],a.data.results.forEach((function(t){var n=t.id,r=t.author,e=t.content;return u.push({id:n,author:r,content:e})})),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=545.536fc52d.chunk.js.map