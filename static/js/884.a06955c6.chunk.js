"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{646:function(r,e,t){t.d(e,{Hx:function(){return p},I2:function(){return h},Lm:function(){return o},Y5:function(){return f},uV:function(){return l}});var n=t(861),a=t(683),i=t(757),c=t.n(i),u=t(388),s=function(r,e){return u.Z.get("https://api.themoviedb.org/3"+r,{params:(0,a.Z)({api_key:"c8f343487431a47156d389fa5ccb000e",language:"en-US"},e)}).then((function(r){return r.status,r})).then((function(r){return r}))},o=function(){var r=(0,n.Z)(c().mark((function r(){var e,t,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"/trending/movie/day",e={},r.next=4,s("/trending/movie/day",e);case 4:return t=r.sent,n=[],t.data.results.forEach((function(r){return n.push({id:r.id,title:r.title})})),r.abrupt("return",n);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),h=function(){var r=(0,n.Z)(c().mark((function r(e){var t,n,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"/search/movie",t={query:e,page:1},r.next=4,s("/search/movie",t);case 4:return n=r.sent,a=[],n.data.results.forEach((function(r){var e=r.id,t=r.title;return a.push({id:e,title:t})})),r.abrupt("return",a);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,n.Z)(c().mark((function r(e){var t,n,a,i,u,o,h,f,l,p;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/movie/".concat(e),n={},r.next=4,s(t,n);case 4:return a=r.sent,i=a.data,u=i.poster_path,o=i.title,h=i.vote_average,f=i.overview,l=i.genres,p={src:"https://image.tmdb.org/t/p/w300"+u,title:o,vote_average:h,overview:f,genres:l},r.abrupt("return",p);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),l=function(){var r=(0,n.Z)(c().mark((function r(e){var t,n,a,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/movie/".concat(e,"/credits"),n={},r.next=4,s(t,n);case 4:return a=r.sent,i=[],a.data.cast.forEach((function(r){var e=r.id,t=r.profile_path,n=r.name,a=r.character;return i.push({id:e,srcImage:null!==t?"https://image.tmdb.org/t/p/w200"+t:null,name:n,character:a})})),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),p=function(){var r=(0,n.Z)(c().mark((function r(e){var t,n,a,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="/movie/".concat(e,"/reviews"),n={},r.next=4,s(t,n);case 4:return a=r.sent,i=[],a.data.results.forEach((function(r){var e=r.id,t=r.author,n=r.content;return i.push({id:e,author:t,content:n})})),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},884:function(r,e,t){t.r(e);var n=t(861),a=t(439),i=t(757),c=t.n(i),u=t(791),s=t(689),o=t(87),h=t(646),f=t(184);e.default=function(){var r=(0,s.UO)().id,e=(0,s.TH)(),t=(0,u.useState)(null),i=(0,a.Z)(t,2),l=i[0],p=i[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Y5)(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(r){p(r)})).catch((function(r){console.log("Error fetch list of trending movies",r),p("")}))}),[r]),(0,f.jsxs)("main",{children:[(0,f.jsx)(o.rU,{to:e.state?e.state.from:"/",children:"\u2190 Go back"}),null!==l?l?(0,f.jsxs)("section",{children:[(0,f.jsx)("img",{src:l.src,alt:"".concat(l.title," movie poster")}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:l.title}),(0,f.jsxs)("p",{children:["User Score: ",Math.round(10*l.vote_average),"%"]}),(0,f.jsx)("h3",{children:"Overview"}),(0,f.jsx)("p",{children:l.overview}),(0,f.jsx)("h3",{children:"Genres"}),(0,f.jsx)("ul",{children:l.genres.map((function(r){return(0,f.jsx)("li",{children:r.name},r.id)}))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:"Additional information"}),(0,f.jsxs)("ul",{children:[(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]})]})]}):(0,f.jsx)("div",{children:"There is no result for this id!"}):(0,f.jsx)(f.Fragment,{}),(0,f.jsx)(u.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading subpage..."}),children:(0,f.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=884.a06955c6.chunk.js.map